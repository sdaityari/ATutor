var a11yAccordeon=function(e){e=e||{};e.headerSelector=e.headerSelector||".a11yAccordeonItemHeader";e.visibleAreaClass=e.visibleAreaClass||"visibleA11yAccordeonItem";e.hiddenAreaSelector=e.hiddenAreaSelector||".a11yAccordeonHideArea";var t=$(e.container),n=$(e.hiddenAreaSelector),r=$(e.headerSelector),i="a11yAccordeonItemHeaderLink",s="Show",o="showLabel",u="Hide",a="hideLabel",f="hiddenLabel",l="linear",c="no-results-found",h="a11yAccordeonSearchDiv",p="a11yAccordeonItem",d="a11yAccordeonItemHeader",v="accordeon-row-",m=[],g=e.colorScheme;if(!e.headerSelector||!e.visibleAreaClass||t.length===0||n.length===0){return}n.hide();e.speed=e.speed||300;e.hiddenLinkDescription=e.hiddenLinkDescription||"";$.each(r,function(t,n){var r=$("<a>",{href:"#","class":i});$("<span>",{text:s,"class":o}).appendTo(r);$("<span>",{text:u,style:"display: none;","class":a}).appendTo(r);$("<span>",{text:e.hiddenLinkDescription,"class":f}).appendTo(r);r.appendTo(n)});if(g){r.addClass(g+"-a11yAccordeon-header");n.addClass(g+"-a11yAccordeon-area")}var y=$("."+i);y.click(function(t){var r=t.currentTarget?$(t.currentTarget):$(t.srcElement),i=r.parent().siblings(e.hiddenAreaSelector);k(n,i,e.visibleAreaClass,e.speed);r.focus();return false});if(e.showSearch){var b="Search",w="a11yAccordeonSearch",E="No Results Found",S="Type your query to search",x,T,N,C;x=$("<div />",{id:h}).insertBefore(t);N=$("<input />",{type:"text",placeholder:b,"class":w,title:S}).appendTo(x);T=$("<li />",{"class":p,id:c,style:"display:none;"}).appendTo(t);$("<div />",{"class":d,text:E}).appendTo(T);$("."+p).each(function(e,t){$(t).attr("id",v+e)});N.keyup(function(){T.hide();if(!m.length){M()}C=N.val().toLowerCase();$(m).each(function(e,t){var n=t.text.indexOf(C)!==-1?"show":"hide";$("#"+t.id)[n]()});_(N);if(!$("."+p+":visible").length){T.show()}})}var k=function(e,t,n,r){if(t.hasClass(n)){A(t,n,r)}else{L(e,n,r);O(t,n,r)}};var L=function(e,t,n){$.each(e.filter("."+t),function(e,r){A($(r),t,n)})};var A=function(t,n,r){if(!t.hasClass(n)){return}var i=t.siblings(e.headerSelector);i.find("."+o).show();i.find("."+a).hide();t.slideUp(r,l,function(){t.removeClass(n);t.hide()})};var O=function(t,n,r){if(t.hasClass(n)){return}var i=t.siblings(e.headerSelector);i.find("."+o).hide();i.find("."+a).show();t.addClass(n);t.slideDown(r,l,function(){t.show()})};var M=function(){var t=$("."+p),n;for(var r=0,i=t.length-1;r<i;++r){n=t[r];m.push({id:n.id,text:$(n).text().replace(s+u+e.hiddenLinkDescription,"").toLowerCase()})}};var _=function(e){var t=$("."+d+":visible").length,n="Number of results found: ",r=" Please leave blank to see all the results.";e.attr("title",n+t.toString()+r)}}
