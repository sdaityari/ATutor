var a11yAccordeon=function(e){e=e||{};e.headerSelector=e.headerSelector||".a11yAccordeonItemHeader";e.visibleAreaClass=e.visibleAreaClass||"visibleA11yAccordeonItem";e.hiddenAreaSelector=e.hiddenAreaSelector||".a11yAccordeonHideArea";var t=$(e.container),n=$(e.hiddenAreaSelector),r=$(e.headerSelector),i="a11yAccordeonItemHeaderLink",s="Show",o="showLabel",u="Hide",a="hideLabel",f="hiddenLabel",l="linear",c="no-results-found",h="a11yAccordeonSearchDiv",p="a11yAccordeonItem",d="a11yAccordeonItemHeader",v="accordeon-row-",m=[],g=e.colorScheme;if(!e.headerSelector||!e.visibleAreaClass||t.length===0||n.length===0){return}n.hide();e.speed=e.speed||300;e.hiddenLinkDescription=e.hiddenLinkDescription||"";$.each(r,function(t,n){var r=$("<a>",{href:"#","class":i});$("<span>",{text:s,"class":o}).appendTo(r);$("<span>",{text:u,style:"display: none;","class":a}).appendTo(r);$("<span>",{text:e.hiddenLinkDescription,"class":f}).appendTo(r);r.appendTo(n)});if(g){r.addClass(g+"-a11yAccordeon-header");n.addClass(g+"-a11yAccordeon-area")}var y=$("."+i);y.click(function(t){var r=t.currentTarget?$(t.currentTarget):$(t.srcElement),i=r.parent().siblings(e.hiddenAreaSelector);A(n,i,e.visibleAreaClass,e.speed);r.focus();return false});t.show();if(e.showSearch){var b="Search",w="a11yAccordeonSearch",E="No Results Found",S="Type your query to search",x="borderTopClass",T,N,C,k,L;T=$("<div />",{id:h}).insertBefore(t);C=$("<input />",{type:"text",placeholder:b,"class":w,title:S}).appendTo(T);N=$("<li />",{"class":p,id:c,style:"display:none;"}).appendTo(t);$("<div />",{"class":d,text:E}).appendTo(N);$("."+p).each(function(e,t){$(t).attr("id",v+e)});C.keyup(function(){N.hide();if(!m.length){D()}k=C.val().toLowerCase();$(m).each(function(e,t){var n=t.text.indexOf(k)!==-1?"show":"hide";$("#"+t.id)[n]()});P(C);L=$("."+p+":visible");$("."+x).removeClass(x);if(!L.length){N.show()}else{$(L[0]).addClass(x)}})}var A=function(e,t,n,r){if(t.hasClass(n)){M(t,n,r)}else{O(e,n,r);_(t,n,r)}};var O=function(e,t,n){$.each(e.filter("."+t),function(e,r){M($(r),t,n)})};var M=function(t,n,r){if(!t.hasClass(n)){return}var i=t.siblings(e.headerSelector);i.find("."+o).show();i.find("."+a).hide();t.slideUp(r,l,function(){t.removeClass(n);t.hide()})};var _=function(t,n,r){if(t.hasClass(n)){return}var i=t.siblings(e.headerSelector);i.find("."+o).hide();i.find("."+a).show();t.addClass(n);t.slideDown(r,l,function(){t.show()})};var D=function(){var t=$("."+p),n;for(var r=0,i=t.length-1;r<i;++r){n=t[r];m.push({id:n.id,text:$(n).text().replace(s+u+e.hiddenLinkDescription,"").toLowerCase()})}};var P=function(e){var t=$("."+d+":visible").length,n="Number of results found: ",r=" Please leave blank to see all the results.";e.attr("title",n+t.toString()+r)}}
